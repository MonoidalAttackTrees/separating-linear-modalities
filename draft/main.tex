\documentclass{article}
\usepackage{amssymb,amsmath}
\usepackage{amsthm}
\usepackage{cmll}
\usepackage{txfonts}
\usepackage{graphicx}
\usepackage{stmaryrd}
\usepackage{todonotes}
\usepackage{mathpartir}
\usepackage{hyperref}
\usepackage{mdframed}
\usepackage[barr]{xy}
\usepackage{comment}
\usepackage{graphicx}
\usepackage[inline]{enumitem}

\usepackage{caption}
\captionsetup[figure]{name=Diagram}

\newtheorem{theorem}{Theorem}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{example}[theorem]{Example}

%% This renames Barr's \to to \mto.  This allows us to use \to for imp
%% and \mto for a inline morphism.
\let\mto\to
\let\to\relax
\newcommand{\to}{\rightarrow}
\newcommand{\ndto}[1]{\to_{#1}}
\newcommand{\ndwedge}[1]{\wedge_{#1}}

% Commands that are useful for writing about type theory and programming language design.
%% \newcommand{\case}[4]{\text{case}\ #1\ \text{of}\ #2\text{.}#3\text{,}#2\text{.}#4}
\newcommand{\interp}[1]{\llbracket #1 \rrbracket}
\newcommand{\normto}[0]{\rightsquigarrow^{!}}
\newcommand{\join}[0]{\downarrow}
\newcommand{\redto}[0]{\rightsquigarrow}
\newcommand{\nat}[0]{\mathbb{N}}
\newcommand{\fun}[2]{\lambda #1.#2}
\newcommand{\CRI}[0]{\text{CR-Norm}}
\newcommand{\CRII}[0]{\text{CR-Pres}}
\newcommand{\CRIII}[0]{\text{CR-Prog}}
\newcommand{\subexp}[0]{\sqsubseteq}
%% Must include \usepackage{mathrsfs} for this to work.

\date{}

\let\b\relax
\let\d\relax
\let\t\relax
\let\r\relax
\let\c\relax
\let\j\relax
\let\wn\relax
\let\H\relax

% Cat commands.
\newcommand{\powerset}[1]{\mathcal{P}(#1)}
\newcommand{\cat}[1]{\mathcal{#1}}
\newcommand{\func}[1]{\mathsf{#1}}
\newcommand{\iso}[0]{\mathsf{iso}}
\newcommand{\H}[0]{\func{H}}
\newcommand{\J}[0]{\func{J}}
\newcommand{\catop}[1]{\cat{#1}^{\mathsf{op}}}
\newcommand{\Hom}[3]{\mathsf{Hom}_{\cat{#1}}(#2,#3)}
\newcommand{\limp}[0]{\multimap}
\newcommand{\colimp}[0]{\multimapdotinv}
\newcommand{\dial}[1]{\mathsf{Dial_{#1}}(\mathsf{Sets^{op}})}
\newcommand{\dialSets}[1]{\mathsf{Dial_{#1}}(\mathsf{Sets})}
\newcommand{\dcSets}[1]{\mathsf{DC_{#1}}(\mathsf{Sets})}
\newcommand{\sets}[0]{\mathsf{Sets}}
\newcommand{\obj}[1]{\mathsf{Obj}(#1)}
\newcommand{\mor}[1]{\mathsf{Mor(#1)}}
\newcommand{\id}[0]{\mathsf{id}}
\newcommand{\lett}[0]{\mathsf{let}\,}
\newcommand{\inn}[0]{\,\mathsf{in}\,}
\newcommand{\cur}[1]{\mathsf{cur}(#1)}
\newcommand{\curi}[1]{\mathsf{cur}^{-1}(#1)}

\newcommand{\w}[1]{\mathsf{weak}_{#1}}
\newcommand{\c}[1]{\mathsf{contra}_{#1}}
\newcommand{\cL}[1]{\mathsf{contraL}_{#1}}
\newcommand{\cR}[1]{\mathsf{contraR}_{#1}}
\newcommand{\e}[1]{\mathsf{ex}_{#1}}

\newcommand{\m}[1]{\mathsf{m}_{#1}}
\newcommand{\n}[1]{\mathsf{n}_{#1}}
\newcommand{\b}[1]{\mathsf{b}_{#1}}
\newcommand{\d}[1]{\mathsf{d}_{#1}}
\newcommand{\h}[1]{\mathsf{h}_{#1}}
\newcommand{\p}[1]{\mathsf{p}_{#1}}
\newcommand{\q}[1]{\mathsf{q}_{#1}}
\newcommand{\t}[0]{\mathsf{t}}
\newcommand{\r}[1]{\mathsf{r}_{#1}}
\newcommand{\s}[1]{\mathsf{s}_{#1}}
\newcommand{\j}[1]{\mathsf{j}_{#1}}
\newcommand{\jinv}[1]{\mathsf{j}^{-1}_{#1}}
\newcommand{\wn}[0]{\mathop{?}}
\newcommand{\codiag}[1]{\bigtriangledown_{#1}}

\newenvironment{changemargin}[2]{%
  \begin{list}{}{%
    \setlength{\topsep}{0pt}%
    \setlength{\leftmargin}{#1}%
    \setlength{\rightmargin}{#2}%
    \setlength{\listparindent}{\parindent}%
    \setlength{\itemindent}{\parindent}%
    \setlength{\parsep}{\parskip}%
  }%
  \item[]}{\end{list}}

\newenvironment{diagram}{
  \begin{center}
    \begin{math}
      \bfig
}{
      \efig
    \end{math}
  \end{center}
}

%% %% Ott
%% \input{BiLNL-inc}

\urldef{\mailsa}\path|{heades}@augusta.edu|

\begin{document}

\title{Separating Linear Modalities}
\author{Jiaming Jiang and Harley Eades III}
\date{}

\maketitle 

\begin{abstract}

  TODO

\end{abstract}

\section{Introduction}
\label{sec:introduction}
TODO \cite{Benton:1994}
% section introduction (end)

\section{Categorical Models}
\label{sec:categorical_models}

\subsection{Lambek Categories}
\label{subsec:lambek_categories}
TODO: Define Lambek Categories
% subsection lambek_categories (end)

\subsection{Lambek Categories with Weakening and Contraction}
\label{subsec:lambek_categories_with_weakening_and_contraction}
\begin{definition}
  \label{def:weakening}
  A \textbf{Lambek category with weakening}, $(\cat{L},w,\w{})$, is a
  Lambek category equipped with a monoidal comonad
  $(w,\varepsilon,\delta)$, and a monoidal natural transformation
  $\w{A}:wA\mto I$.  Furthermore, $\w{}$ must be a coalgebra morphism.
  That is, the following digram must commute:
  \begin{mathpar}
    \bfig
    \square/->`->`->`->/<800,400>[
      wA`
      I`
      w^2A`
      wI;
      \w{A}`
      \delta_A`
      \q{I}`
      w\w{A}]
    \efig
  \end{mathpar}
\end{definition}



\begin{definition}
  \label{def:contraction}
  A \textbf{Lambek category with contraction},
  $(\cat{L},c,\cL{},\cR{})$, is a Lambek category equipped with a
  monoidal comonad $(c,\varepsilon,\delta)$, and two monoidal natural
  transformations:
  \[
  \begin{array}{l}
    \cL{A,B}:cA\otimes B\mto (cA\otimes B)\otimes cA\\
    \cR{A,B}:B\otimes cA\mto cA\otimes (B\otimes cA)
  \end{array}
  \]
  Furthermore, the following diagrams must commute:
    \begin{mathpar}
      \bfig
      \square/<-`->``/<1050,400>[
	cA\otimes I`
        cA`
        (cA\otimes I)\otimes cA`;
	\rho_{cA}^{-1}`
	\cL{A,I}``]
      \square(1050,0)/->``->`/<1050,400>[
        cA`
        I\otimes cA``
        cA\otimes(I\otimes cA);
        \lambda_{cA}^{-1}``
	\cR{A,I}`]
        \morphism(0,0)|b|<2100,0>[(cA\otimes I)\otimes cA`cA\otimes(I\otimes cA);\alpha_{cA,I,cA}]
      \efig
    \end{mathpar}
    \begin{mathpar}
    \bfig
      \square/->`->``->/<1300,800>[
        cA\otimes cA`
        cA\otimes(cA\otimes I)`
        (I\otimes cA)\otimes cA`
        (cA\otimes(I\otimes cA))\otimes cA;
        id_{cA}\otimes\rho_{cA}^{-1}`
        \lambda_{cA}^{-1}\otimes id_{cA}``
        \cR{A,I}\otimes id_{cA}]
      \qtriangle(1300,400)/->``->/<1300,400>[
        cA\otimes(cA\otimes I)`
        cA\otimes((cA\otimes I)\otimes cA)`
        cA\otimes(cA\otimes cA);
        id_{cA}\otimes\cL{A,I}``
        id_{cA}\otimes(\rho_{cA}\otimes id_{cA})]
      \dtriangle(1300,0)/`<-`->/<1300,400>[
        cA\otimes(cA\otimes cA)`
        (cA\otimes(I\otimes cA))\otimes cA`
        (cA\otimes cA)\otimes cA;
        `
        \alpha_{cA,cA,cA}`
        (id_{cA}\otimes\lambda_{cA})\otimes id_{cA}]
    \efig
    \end{mathpar}
\end{definition}

% subsection lambek_categories_with_weakening_and_contraction (end)

\subsection{Lambek Categories with Exchange}
\label{subsec:lambek_categories_with_exchange}

% Definition: Lambek with exchange
\begin{definition}
  \label{def:exchange}
  A \textbf{Lambek category with exchange}, $(\cat{L},e,\e{})$, is a
  Lambek category equipped with a monoidal comonad
  $(e,\varepsilon,\delta)$ on $\cat{L}$, and a monoidal natural
  transformation $\e{A,B}:eA \otimes eB \mto eB \otimes eA$.
  Furthermore, the following diagrams must commute:
  \begin{mathpar}
    \bfig
    \qtriangle|amm|/->`=`->/<1000,500>[
      eA \otimes eB`
      eB \otimes eA`
      eA \otimes eB;
      \e{A,B}``
      \e{B,A}]
    \efig
    \and
    \bfig
    \square|amma|/->`->`<-`->/<1000,500>[
      e^2A \otimes e^2A`
      e^2B \otimes e^2A`
      eA \otimes eB`
      eB \otimes eA;
      \e{eA,eB}`
      \varepsilon_{eA} \otimes \varepsilon_{eB}`
      \delta_B \otimes \delta_A`
      \e{A,B}]
    \efig
  \end{mathpar}
  %% \begin{mathpar}
  %% \bfig
  %%   \square/->`=`->`/<1600,400>[
  %%     e(A\otimes B)`
  %%     eB\otimes eA`
  %%     e(A\otimes B)`
  %%     e(B\otimes A);
  %%     \e{A,B}``
  %%     \q{B,A}`]
  %%   \morphism(800,0)<-800,0>[
  %%     eA\otimes eB`
  %%     e(A\otimes B);
  %%     \q{A,B}]
  %%   \morphism(1600,0)<-800,0>[
  %%     e(B\otimes A)`
  %%     eA\otimes eB;
  %%     \e{B,A}]
  %% \efig
  %% \and
  %% \bfig
  %%   \square/->`->`->`/<1600,400>[
  %%     e(A\otimes B)`
  %%     e^2(A\otimes B)`
  %%     eB\otimes eA`
  %%     e(eB\otimes eA);
  %%     \delta_{A\otimes B}`
  %%     \e{A,B}`
  %%     e\e{A,B}`]
  %%   \morphism<800,0>[
  %%     eB\otimes eA`
  %%     e^2B\otimes e^2A;
  %%     \delta_B\otimes\delta_A]
  %%   \morphism(800,0)<800,0>[e^2B\otimes e^2A`e(eB\otimes eA);\q{eB,eA}]
  %% \efig
  %% \end{mathpar}
  %% Note that the second diagram above shows that $\e{A,B}$ is a
  %% coalgebra morphism.
\end{definition}

\todo[inline]{Define coalgebras and their morphisms}

\begin{definition}
  \label{def:eilenberg-moore-cat}
  Suppose $(\cat{L},e,\e{})$ is a Lambek category with exchange.  Then
  the \textbf{Eilenberg Moore category}, $\cat{L}^e$, of the comonad
  $(e, \varepsilon, \delta)$ has as objects all the e-coalgebras $(A,
  h_A : A \mto eA)$, and as morphisms all the coalgebra morphisms.  We
  call $h_A$ the action of the coalgebra.  Furthermore, the following
  (action) diagrams must commute:
  \begin{mathpar}
    \bfig
    \square[A`eA`eA`e^2A;h_A`h_A`eh_A`\delta_A]    
    \efig
    \and
    \bfig
    \btriangle/->`=`->/[A`eA`A;h_A``\varepsilon_A]
    \efig
  \end{mathpar}
\end{definition}

\begin{lemma}[The Eilenberg Moore Category is Symmetric Monoidal]
  \label{lemma:the_eilenberg_moore_category_is_symmetric_monoidal}
  Suppose $(\cat{L},e,\e{})$ is a Lambek category with exchange.  Then
  the category $\cat{L}^e$ is symmetric monoidal.
\end{lemma}
\begin{proof}
  We must first define the unitors, the associator, and the symmetry.
  Then we show that they respect the symmetry monoidal coherence
  diagrams.  Recall the definition of composition in the Eilenberg
  Moore category.  Throughout this proof we will make use of the
  coalgebra $(A,h_A)$, $(B,h_B)$, and $(C,h_C)$. 

  The tensor product of $(A, h_A)$ and $(B, h_b)$ is $(A \otimes
  B,q_{A,B} \circ (h_A \otimes h_B))$, and the unit of the tensor
  product is $(I, q_I)$; both actions are easily shown to satisfies
  the action diagrams of the Eilenberg Moore category. The left and
  right unitors are $\lambda : I \otimes A \mto A$ and $\rho : A
  \otimes I \mto A$, because they are indeed coalgebra morphisms.

  \ \\
  \noindent
  The respective diagram for the right unitor is as follows:
  \begin{center}
    \begin{math}
      \begin{array}{lll}
        \bfig
        \square|amma|/->`->``/<650,500>[A \otimes I`eA \otimes I`A`;h_A \otimes \id{}`\rho``]
        \morphism(650,500)<650,0>[eA \otimes I`eA \otimes eI;\id{} \otimes \q{I}]
        \square(1300,0)|amma|/->``->`/<650,500>[eA \otimes eI`e(A \otimes I)``eA;\q{A,I}``e\rho`]

        \morphism(650,500)<1300,-500>[eA \otimes I`eA;\lambda]
        \morphism<1950,0>[A`eA;h_A]
        \efig
      \end{array}
    \end{math}
  \end{center}
  The top-left diagram commutes by naturality of $\rho$, the top-right
  diagram commutes by the fact that $e$ is a monoidal functor, and the
  bottom diagram commutes by the action diagrams for the coalgebra
  $(A,h_A)$. Showing the left unitor is a coalgebra morphism is
  similar.

  The unitors are natural and isomorphisms, because they are
  essentially inherited from the underlying Lambek category.

  The associator $\alpha : (A \otimes B) \otimes C \mto A \otimes (B
  \otimes C)$ is also a coalgebra morphism.  First, notice that:
  \[\q{A \otimes B,C} \circ ((\q{A,B} \circ (h_A \otimes h_B)) \otimes h_c) = \q{A \otimes B,C} \circ (\q{A,B} \otimes \id{}) \circ ((h_A \otimes h_B) \otimes h_C)\]
  where the left-hand side is the action of the coalgebra $(A \otimes B)
  \otimes C$. Similarly, the following is the action of the coalgebra
  $A \otimes (B \otimes C)$:
  \[
  \q{A,B \otimes C} \circ (h_A \otimes (\q{B,C} \circ (h_B \otimes h_C))) = \q{A,B \otimes C} \circ (\id{} \otimes \q{B,C}) \circ (h_A \otimes (h_B \otimes h_C))
  \]
  The following diagram must commute:
  \begin{center}
    \rotatebox{90}{$    
      \bfig
      \square|amma|<1200,500>[
        (A \otimes B) \otimes C`
        (eA \otimes eB) \otimes eC`
        A \otimes (B \otimes C)`
        eA \otimes (eB \otimes eC);
        (h_A \otimes h_B) \otimes h_C`
        \alpha`
        \alpha`
        h_A \otimes (h_B \otimes h_C)]

      \square(1200,0)|amma|/->`->``->/<1200,500>[
        (eA \otimes eB) \otimes eC`
        e(A \otimes B) \otimes eC`
        eA \otimes (eB \otimes eC)`
        eA \otimes e(B \otimes C);
        \q{} \otimes \id{}`
        \alpha``
        \id{} \otimes \q{}]

      \square(2400,0)|amma|/->``->`->/<1200,500>[
        e(A \otimes B) \otimes eC`
        e((A \otimes B) \otimes C)`
        eA \otimes e(B \otimes C)`
        e(A \otimes (B \otimes C));
        \q{}``
        e\alpha`
       \q{}]
      \efig
      $}
  \end{center}
  The left diagram commutes by naturality of $\alpha$, and the right
  diagram commutes because $e$ is a monoidal functor.

  Composition in $\cat{L}^e$ is the same as $\cat{L}$, and thus, the
  monoidal coherence diagrams hold in $\cat{L}^e$ as well.  Thus,
  $\cat{L}^e$ is monoidal.  We now show that it is symmetric.

  The symmetry of $\cat{L}^e$ is defined as follows:
  \[
  \beta_{A,B} := A \otimes B \mto^{h_A \otimes h_B} eA \otimes eB \mto^{ex_{A,B}} eB \otimes eA \mto^{\varepsilon_B \otimes \varepsilon_A} B \otimes A
  \]
  It turns out that $\beta_{B,A} \circ \beta_{A,B} = \id_{A \otimes B}$
  which holds because the following diagram commutes:
  \[
  \bfig
  \square|amma|<800,500>[
    A \otimes B`
    eA \otimes eB`
    eA \otimes eB`
    e^2A \otimes e^2 B;
    h_A \otimes h_B`
    h_A \otimes h_B`
    \delta_A \otimes \delta_B`
    eh_A \otimes eh_B]

  \square(0,-500)|amma|<800,500>[
    eA \otimes eB`
    e^2A \otimes e^2B`
    eB \otimes eA`
    e^2B \otimes e^2A;
    eh_A \otimes eh_B`
    \e{A,B}`
    \e{eA,eB}`
    eh_B \otimes eh_A]

  \square(0,-1000)|ammm|<800,500>[
    eB \otimes eA`
    e^2B \otimes e^2A`
    B \otimes A`
    eB \otimes eA;
    eh_B \otimes eh_A`
    \varepsilon_B \otimes \varepsilon_A`
    \varepsilon_{eB} \otimes \varepsilon_{eA}`
    h_B \otimes h_A]

  \square(800,-1000)|ammm|<1200,500>[
    e^2B \otimes e^2A`
    e^2A \otimes e^2B`
    eB \otimes eA`
    eA \otimes eB;
    \e{eB,eA}`
    \varepsilon_{eB} \otimes \varepsilon_{eA}`
    \varepsilon_{eA} \otimes \varepsilon_{eB}`
    \e{B,A}]

  \Atriangle(800,-1000)|mmm|/<-`=`/<600,250>[
    eA \otimes eB`
    eB \otimes eA`
    eA \otimes eB;
    \e{B,A}``]

  \morphism(1400,-750)|m|<600,250>[
    eA \otimes eB`
    e^2A \otimes e^2B;
    \delta_A \otimes \delta_B]

  \btriangle(800,-500)|mmm|/`=`/<1200,500>[
    e^2A \otimes e^2B`
    e^2B \otimes e^2A`
    e^2A \otimes e^2B;``]

  \morphism(2000,-1000)<600,0>[
    eA \otimes eB`
    A \otimes B;
    \varepsilon_A \otimes \varepsilon_B]

  \morphism(0,500)/{@{=}@/^10em/}/<2600,-1500>[
    A \otimes B`
    A \otimes B;]

  \place(400,250)[(1)]
  \place(400,-250)[(2)]
  \place(400,-750)[(3)]
  \place(1100,-300)[(4)]
  \place(1100,-700)[(5)]
  \place(1400,-880)[(6)]
  \place(1760,-750)[(7)]
  \place(1400,250)[(8)]
  \efig
  \]
  Diagram one commutes by the action diagrams of the Eilenberg Moore
  category, diagram two commutes by naturality of $\e{}$, diagram
  three commutes by naturality of $\varepsilon$, diagram four and five
  commute by the coherence diagrams of $\e{}$, diagram six clearly
  commutes, diagram seven commutes because $(e,\varepsilon,\delta)$ is
  a comonad, and diagram eight commutes by both the action diagrams of
  the Eilenberg Moore category and the fact that
  $(e,\varepsilon,\delta)$ is a comonad.

  At this point we must verify that $\beta$ respects the coherence
  diagrams of a symmetric monoidal category; see
  Definition~\ref{def:sym-monoidal-category}.  Thus, we must show that
  each of the following diagrams hold:
  \begin{description}
  \item[Case]
    \[
    \bfig
      \hSquares|aammmaa|/->`->`->``->`->`->/[
        (A \otimes B) \otimes C`
        A \otimes (B \otimes C)`
        (B \otimes C) \otimes A`
        (B \otimes A) \otimes C`
        B \otimes (A \otimes C)`
        B \otimes (C \otimes A);
        \alpha_{A,B,C}`
        \beta_{A,B \otimes C}`
        \beta_{A,B} \otimes \id_C``
        \alpha_{B,C,A}`
        \alpha_{B,A,C}`
        \id_B \otimes \beta_{A,C}]
      \efig      
      \]

    \item[Case]
      \[
      \bfig
      \btriangle[
        A \otimes B`
        B \otimes A`
        A \otimes B;
        \beta_{A,B}`
        \id_{A \otimes B}`
        \beta_{B,A}]
      \efig
      \]

    \item[Case]
      \[
      \bfig
      \Vtriangle[
        \top \otimes A`
        A \otimes \top`
        A;
        \beta_{\top,A}`
        \lambda_A`
        \rho_A]
      \efig
      \]
  \end{description}
\end{proof}

\begin{definition}
  \label{def:cokleisli-exchange}
  Let $(\cat{L},e,\e{})$ be a Lambek category with exchange. The
  \textbf{coKleisli Category of $e$}, $\cat{L}_e$, is a category with the
  same objects as $\cat{L}$. There is an arrow $\hat{f}:A\mto B$ in
  $\cat{L}_e$ if there is an arrow $f:eA\mto B$ in $\cat{L}$. The
  identity arrow $\hat{id_A}:A\mto A$ is the arrow
  $\varepsilon_A:eA\mto A$ in $\cat{L}$. Given $\hat{f}:A\mto B$ and
  $\hat{g}:B\mto C$ in $\cat{L}_e$, which are arrows
  $f:eA\mto B$ and $g:eB\mto C$ in $\cat{L}$, the composition
  $\hat{g}\circ\hat{f}:A\mto C$ is defined as $g\circ ef\circ\delta_A$.
\end{definition}
   
\begin{lemma}[$\cat{L}_e$ is symmetric]
  \label{lemma:cokleisli_cat_is_symmetric}
  Suppose $(\cat{L},e,\e{})$ is a Lambek category with exchange.  Then
  the co-Kleisli category $\cat{L}_e$ is symmetric monoidal.  That is,
  there is a natural isomorphism $\gamma_{A,B} : e(A \otimes B) \mto B
  \otimes A$, and the following diagrams commute:
<<<<<<< HEAD
  \begin{mathpar}
  \bfig
  \square/->`->`<-`->/<800,400>[
    e(A\otimes B)`
    A\otimes B`
    e^2(A\otimes B)`
    e(B\otimes A);
    \hat{id}_{A\otimes B}`
    \delta_{A\otimes B}`
    \gamma_{B,A}`
    e\gamma_{A,B}]
  \efig
  \and
  \bfig
  \square/->`->`->`<-/<800,400>[
    e(I\otimes A)`
    e^2(I\otimes A)`
    A`
    e(A\otimes I);
    \delta_{I\otimes A}`
    \hat{\lambda_A}`
    e\gamma_{I,A}`
    \hat{\rho_A}]
  \efig
  \end{mathpar}
  , where $\hat{id}$ is the identity morphism in $\cat{L}_e$, $I$ is the
  identity object of $\cat{L}_e$, and $\hat\lambda$ and $\hat\rho$ are the
  left and right unitors of $\cat{L}_e$, respectively.
  \todo[inline]{Don't know how to express the two diagrams for monoidal.
  For example, the morphism 
  $id_A\otimes\lambda_A:A\otimes(I\otimes B)\rightarrow A\otimes B$
  in $\cat{L}$
  is $e(A\otimes(I\otimes B))\rightarrow A\otimes B$ in $\cat{L}_e$ and
  can be defined as
  $(id_A\otimes\lambda_B)\circ\varepsilon_{A\otimes(I\otimes B)}$. But I
  feel like it should use $\hat\lambda$ in the definition.}
=======
  \todo[inline]{Fill in the diagrams}
>>>>>>> origin/master
\end{lemma}

\begin{proof}
  Let $I$ be the identity object in $\cat{L}$. Then the identity object of
  $\cat{L}_e$ is still $I$. The left and right unitors,
  $\hat\lambda_A:I\otimes A\mto A$ and $\hat\rho_A:A\otimes I\mto A$, in
  $\cat{L}_e$ are morphisms $e(I\otimes A)\mto A$ and $e(A\otimes I)\mto A$
  in $\cat{L}$, respectively. Then we define $\hat\lambda$ and $\hat\rho$
  as:
  \begin{align*}
    \hat\lambda_A &= \varepsilon_A\circ e\lambda_A     \\
    \hat\rho_A    &= \varepsilon_A\circ e\rho_A,
  \end{align*}
  where $\lambda$ and $\rho$ are the left and right unitors in $\cat{L}$,
  respectively. And we define their inverses as:
  \begin{align*}
    \hat\lambda_A^{-1} &= \varepsilon_{I\otimes A}\circ e\lambda_A^{-1} \\
    \hat\rho_A^{-1}    &= \varepsilon_{A\otimes I}\circ e\rho_A^{-1}
  \end{align*}
  $\hat\lambda$ is a nautral isomorphism with inverse $\hat\lambda^{-1}$
  because the following diagram chasing commutes:
  \begin{mathpar}
  \bfig
    \Vtrianglepair|aammm|/->`->`->``<-/<800,400>[
      e(I\otimes A)`
      e^2(I\otimes A)`
      e^2A`
      eA;
      \delta_{I\otimes A}`
      e^2\lambda_A`
      e\lambda_A``
      \delta_A]
    \btriangle(0,-400)/->`=`<-/<800,800>[
      e(I\otimes A)`
      I\otimes A`
      e(I\otimes A);
      \varepsilon_{I\otimes A}``
      \varepsilon_{I\otimes A}]
    \btriangle(800,-400)|mmb|/->`=`<-/<800,400>[
      eA`
      e(I\otimes A)`
      eA;
      e\lambda_A^{-1}``
      e\lambda_A^{-1}]
    \morphism(1600,400)|r|<0,-800>[e^2A`eA;e\varepsilon_A]
    \ptriangle(800,100)/``/<100,100>[(1)``;``]
    \ptriangle(300,-250)/``/<100,100>[(2)``;``]
    \ptriangle(600,-100)/``/<100,100>[(3)``;``]
    \ptriangle(1000,-350)/``/<100,100>[(4)``;``]
    \ptriangle(1300,-100)/``/<100,100>[(5)``;``]
  \efig
  \end{mathpar}
  (1) commutes by the naturality of $\delta$. (2), (3) and (4) commute
  trivially. And (5) commutes because $e$ is a comonad.

  Similarly, $\hat\rho$ is a natural isomorphism with inverse
  $\hat\rho^{-1}$ by the following diagram chasing:
  \begin{mathpar}
  \bfig
    \Vtrianglepair|aammm|/->`->`->``<-/<800,400>[
      e(A\otimes I)`
      e^2(A\otimes I)`
      e^2A`
      eA;
      \delta_{A\otimes I}`
      e^2\rho_A`
      e\rho_A``
      \delta_A]
    \btriangle(0,-400)/->`=`<-/<800,800>[
      e(A\otimes I)`
      A\otimes I`
      e(A\otimes I);
      \varepsilon_{A\otimes I}``
      \varepsilon_{A\otimes I}]
    \btriangle(800,-400)|mmb|/->`=`<-/<800,400>[
      eA`
      e(A\otimes I)`
      eA;
      e\rho_A^{-1}``
      e\rho_A^{-1}]
    \morphism(1600,400)|r|<0,-800>[e^2A`eA;e\varepsilon_A]
  \efig
  \end{mathpar}

  The associator
  $\hat\alpha_A:(A\otimes B)\otimes C)\mto A\otimes(B\otimes C)$ in
  $\cat{L}_e$ is the morphism
  $e((A\otimes B)\otimes C)\mto A\otimes(B\otimes C)$ in $\cat{L}$.
  We define $\hat\alpha$ as:
  $$\hat\alpha_{A,B,C}=\varepsilon_{A\otimes(B\otimes C)}\circ e\alpha_{A,B,C},$$
  where $\alpha$ is the associator of $\cat{L}$. And its inverse is
  $$\hat\alpha_{A,B,C}^{-1} =
    \varepsilon_{(A\otimes B)\otimes C}\circ e\alpha_{A,B,C}^{-1}$$
  $\hat\alpha$ is a natural isomorphism with inverse $\hat\alpha^{-1}$
  because the following diagram chasing commutes:
  \begin{mathpar}
  \bfig
    \Vtrianglepair|aammm|/->`->`->``<-/<1200,400>[
      e((A\otimes B)\otimes C)`
      e^2((A\otimes B)\otimes C)`
      e^2(A\otimes (B\otimes C))`
      e(A\otimes(B\otimes C));
      \delta_{(A\otimes B)\otimes C}`
      e^2\alpha_{A,B,C}`
      e\alpha_{A,B,C}``
      \delta_{A\otimes (B\otimes C)}]
    \btriangle(0,-400)/->`=`<-/<1200,800>[
      e((A\otimes B)\otimes C)`
      (A\otimes B)\otimes C`
      e((A\otimes B)\otimes C);
      \varepsilon_{(A\otimes B)\otimes C}``
      \varepsilon_{(A\otimes B)\otimes C}]
    \btriangle(1200,-400)|mmb|/->`=`<-/<1200,400>[
      e(A\otimes(B\otimes C))`
      e((A\otimes B)\otimes C)`
      e(A\otimes(B\otimes C));
      e\alpha_{A,B,C}^{-1}``
      e\alpha_{A,B,C}^{-1}]
    \morphism(2400,400)|r|<0,-800>[
      e^2(A\otimes (B\otimes C))`
      e(A\otimes(B\otimes C));
      e\varepsilon_{A\otimes(B\otimes C)}]
  \efig
  \end{mathpar}

  Therefore, $\cat{L}_e$ is a monoidal category.

  Then, we define a natural transformation
  $\gamma_{A,B}:e(A\otimes B)\mto B\otimes A$ as
  $$\gamma_{A,B}=(\varepsilon_B\otimes\varepsilon_A)\circ\e{A,B}.$$
  Clearly, $\gamma$ is natural because it is the composition of
  natural transformations.  The following diagram shows $\gamma$ is an
  isomorphism in $\cat{L}_e$:
  \begin{mathpar}
  \bfig
    \square/->`->`->`<-/<800,400>[
      e(A\otimes B)`
      e^2(A\otimes B)`
      A\otimes B`
      e(B\otimes A);
      \delta_{A\otimes B}`
      \varepsilon_{A\otimes B}`
      e\gamma_{A,B}`
      \gamma_{B,A}]
  \efig
  \end{mathpar}
  The previous diagram commutes because the following one does:
  \begin{mathpar}
  \bfig
    \Vtriangle|amm|/->`->`/<400,400>[
      e(A\otimes B)`
      e^2(A\otimes B)`
      eB\otimes eA;
      \delta_{A\otimes B}`
      \e{A,B}`]
    \Vtriangle(800,0)|amm|/->``<-/<400,400>[
      e^2(A\otimes B)`
      e(eB\otimes eA)`
      e^2B\otimes e^2A;
      e\e{A,B}``
      \q{eB,eA}]
    \qtriangle(400,-400)|mmm|/->`=`->/<800,400>[
      eB\otimes eA`
      e^2B\otimes e^2A`
      eB\otimes eA;
      \delta_B\otimes\delta_A``
      e\varepsilon_B\otimes e\varepsilon_A]
    \btriangle(0,-800)/->``<-/<800,1200>[
      e(A\otimes B)`
      A\otimes B`
      eA\otimes eB;
      \varepsilon_{A\otimes B}``
      \varepsilon_A\otimes\varepsilon_B]
    \morphism(800,-800)|m|<-400,400>[eA\otimes eB`e(A\otimes B);\q{A,B}]
    \morphism(0,400)/=/<400,-800>[e(A\otimes B)`e(A\otimes B);]
    \dtriangle(800,-800)/`->`<-/<800,1200>[
      e(eB\otimes eA)`
      eA\otimes eB`
      e(B\otimes A);
      `
      e(\varepsilon_B\otimes\varepsilon_A)`
      \e{B,A}]
    \morphism(1200,-400)|m|<400,-400>[eB\otimes eA`e(B\otimes A);\q{B,A}]
    \ptriangle(300,-700)/``/<100,100>[(1)``;``]
    \ptriangle(900,-650)/``/<100,100>[(2)``;``]
    \ptriangle(800,100)/``/<100,100>[(3)``;``]
    \ptriangle(950,-250)/``/<100,100>[(4)``;``]
    \ptriangle(1450,-300)/``/<100,100>[(5)``;``]
  \efig
  \end{mathpar}
<<<<<<< HEAD
  Diagram (1) commutes because $e$ is monoidal, diagrams (2) and (3)
  commute by the definition of the Lambek category with exchange, diagram
  (4) commutes because $e$ is a comonad, and diagram (5) commutes by the
  naturality of $\q{}$.

  Further, the following diagram also commutes
  \begin{mathpar}
  \bfig
  \square/->`->`->`<-/<800,400>[
    e(I\otimes A)`
    e^2(I\otimes A)`
    A`
    e(A\otimes I);
    \delta_{I\otimes A}`
    \hat{\lambda_A}`
    e\gamma_{I,A}`
    \hat{\rho_A}]
  \efig
  \end{mathpar}
  by the diagram chasing below:
  \begin{mathpar}
  \bfig
  \square|alrm|/->`->`->`<-/<1500,600>[
    e(I\otimes A)`
    e^2(I\otimes A)`
    eA`
    e(A\otimes I);
    \delta_{I\otimes A}`
    e\lambda_A`
    e\gamma_{I,A}`
    e\rho_A]
  \morphism|m|<500,300>[eA`A;\varepsilon_A]
  \morphism(1000,300)|m|<-500,0>[I\otimes A`A;\lambda_A]
  \morphism(0,600)|m|<1000,-300>[e(I\otimes A)`I\otimes A;\varepsilon_{I\otimes A}]
  \morphism(1500,0)|m|<-500,300>[e(A\otimes I)`I\otimes A;\gamma_{A,I}]
  \square(0,-300)|mlrb|/`->`->`<-/<1500,300>[
    eA`
    e(A\otimes I)`
    A`
    eA;
    `
    \varepsilon_A`
    e\rho_A`
    \varepsilon_A]
  \ptriangle(250,250)/``/<100,100>[(1)``;``]
  \ptriangle(750,50)/``/<100,100>[(2)``;``]
  \ptriangle(1200,300)/``/<100,100>[(3)``;``]
  \ptriangle(750,-250)/``/<100,100>[(4)``;``]
  \efig
  \end{mathpar}
  in which (1) commutes by the naturality of $\varepsilon$, (3) commutes
  because $\gamma$ is a natural isomorphism, and (4) commutes trivially.
  \todo{Need (2)?}

  In conclusion, $\cat{L}_e$ is symmetric monoidal.
=======
  Diagram (1) commutes because $e$ is monoidal, diagrams (2) and (3) commute by the
  definition of the Lambek category with exchange, diagram (4) commutes because $e$
  is a comonad, and diagram (5) commutes by the naturality of $\q{}$.
  \ \\
  \todo[inline]{prove the rest}
>>>>>>> origin/master
\end{proof}
% subsection lambek_categories_with_exchange (end)

\subsection{Linear Categories}
\label{subsec:linear_categories}

\begin{definition}
  \label{def:linear-category}
  A \textbf{linear category}, $(\cat{L},!,\w{},\c{})$, is a symmetric
  monoidal closed category $(\cat{L},I,\otimes,\limp)$ equipped with a
  symmetric monoidal comonad $(!,\varepsilon,\delta)$ with
  $\q{A,B}:!A\otimes !B\mto !(A\otimes B)$ and $\q{I}:I\mto !I$, and two
  monoidal natural transformations with components $\w{A}:!A\mto I$ and
  $\c{A}:!A\mto !A\otimes !A$, satisfying the following conditions:
  \begin{itemize}
  \item each $(!A,\w{A},\c{A})$ is a commutative comonoid, i.e.
    the following diagrams commute and $\beta\circ\c{A}=\c{A}$ where
    $\beta_{B,C}:B\otimes C\mto C\otimes B$ is the symmetry natural
    transformation of $\cat{L}$;
    \begin{mathpar}
      \bfig
      \square/->`->``/<1050,400>[
        !A`
        !A\otimes !A`
        !A\otimes !A`;
        \c{A}`
        \c{A}``]
      \square(1050,0)/->``<-`/<1050,400>[
        !A\otimes !A`
        !A\otimes(!A\otimes !A)``
        (!A\otimes !A)\otimes !A;
        id_{!A}\otimes\c{A}``
        \alpha_{!A,!A,!A}`]
        \morphism(0,0)|b|<2100,0>[
          !A\otimes !A`
          (!A\otimes !A)\otimes !A;
          \c{A}\otimes id_{!A}]
      \efig
    \end{mathpar}
    \begin{mathpar}
    \bfig
    \Atrianglepair/->`->`->`<-`->/<800,400>[
      !A`
      I\otimes !A`
      !A\otimes !A`
      !A\otimes I;
      \lambda^{-1}`
      \c{A}`
      \rho^{-1}`
      \w{A}\otimes id_{!A}`
      id_{!A}\otimes\w{A}]
    \efig
    \end{mathpar}

  \item $\w{A}$ and $\c{A}$ are coalgebra morphisms, i.e. the
    following diagrams commute;
    \begin{mathpar}
    \bfig
      \square/->`->`->`->/<1000,500>[
      !A`
      I`
      !!A`
      !I;
      \w{A}`
      \delta{A}`
      \q{I}`
      !\w{A}]
    \efig
    \end{mathpar}
    \begin{mathpar}
    \bfig
      \square/->`->``/<1050,400>[
        !A`
        !A\otimes !A`
        !!A`;
        \c{A}`
        \delta_A``]
      \square(1050,0)/->``->`/<1050,400>[
        !A\otimes !A`
        !!A\otimes !!A``
        !(!A\otimes !A);
        \delta_A\otimes\delta_A``
        \q{!A,!A}`]
        \morphism(0,0)|b|<2100,0>[!!A`!(!A\otimes !A);!\c{A}]
    \efig
    \end{mathpar}

  \item any coalgebra morphism $f:(!A,\delta_A)\mto (!B,\delta_B)$
    between free coalgebras preserve the comonoid structure given
    by $\w{}$ and $\c{}$, i.e. the following diagrams commute.
    \begin{mathpar}
    \bfig
      \Vtriangle/->`->`->/<600,400>[
        !A`
        !B`
        I;
        f`
        \w{A}`
        \w{B}]
    \efig
    \and
    \bfig
      \square/->`->`->`->/<800,400>[
      !A`
      !A\otimes !A`
      !B`
      !B\otimes !B;
      \c{A}`
      f`
      f\otimes f`
      \c{B}]
    \efig
    \end{mathpar}

  \end{itemize}
\end{definition}

\begin{definition}
  \label{def:dist}
  Given two comonads $(c,\varepsilon^c,\delta^c)$ and
  $(w,\varepsilon^w,\delta^w)$ on a category $\cat{L}$ such that
  $(\cat{L},c,\cL{},\cR{})$ is a Lambek category with contraction and
  $(\cat{L},w,\w{})$ is a Lambek category with weakening, we define a
  \textbf{distributive law} of $c$ over $w$ to be a natural
  transformation with components $dist_A:cwA\mto wcA$, subject to the
  following coherence diagrams:
  \begin{mathpar}
    \bfig
      \Vtriangle/<-`<-`->/<500,400>[
        wA`
        cwA`
        wcA;
        \varepsilon_{wA}^c`
        w\varepsilon_A^c`
        dist_A]
    \efig
    \and
    \bfig
      \Vtriangle/<-`<-`->/<500,400>[
        cA`
        cwA`
        wcA;
        c\varepsilon_A^w`
        \varepsilon_{cA}^w`
        dist_A]
    \efig
  \end{mathpar}
\end{definition}

\begin{lemma}
  \label{lem:dist}
  Given two comonads $(c,\varepsilon^c,\delta^c)$ and
  $(w,\varepsilon^w,\delta^w)$ on a category $\cat{L}$ such that
  $(\cat{L},c,\cL{},\cR{})$ is a Lambek category with contraction and
  $(\cat{L},w,\w{})$ is a Lambek category with weakening, the following
  two diagrams commute:
  \begin{mathpar}
  \bfig
    \Vtriangle/->`->`<-/<500,400>[
      cwcA`
      cwc^2A`
      c^2wcA;
      cw\delta_A^c`
      \delta_{wcA}^c`
      cdist_{cA}]
  \efig
  \and
  \bfig
    \Vtriangle/->`->`->/<500,400>[
      wcwA`
      wcw^2A`
      w^2cwA;
      wc\delta_A^w`
      \delta_{cwA}^w`
      wdist_{wA}]
  \efig
  \end{mathpar}
\end{lemma}

\begin{proof}
<<<<<<< HEAD
  The two diagrams above commute because the following ones commute by the
  distributive law and the comonad laws for $c$ and $w$.
=======
  The two diagrams above commute because the following ones due:
>>>>>>> origin/master
  \begin{mathpar}
  \bfig
    \Vtriangle|amm|/->`=`->/<600,300>[
      cwcA`
      cwc^2A`
      cwcA;
      cw\delta_A^c``
      cw\varepsilon_{cA}^c]
    \morphism(0,300)|b|<600,-700>[cwcA`c^2wcA;\delta_{wA}^c]
    \morphism(600,-400)|m|<0,400>[c^2wcA`cwcA;c\varepsilon_{wcA}^c]
    \morphism(600,-400)|b|<600,700>[c^2wcA`cwc^2A;cdist_{cA}]
  \efig
  \and
  \bfig
    \Vtriangle|amm|/->`=`->/<600,300>[
      wcwA`
      wcw^2A`
      wcwA;
      wc\delta_A^w``
      wc\varepsilon_{wA}^w]
    \morphism(0,300)|b|<600,-700>[wcwA`w^2cwA;\delta_{cwA}^w]
    \morphism(600,-400)|m|<0,400>[w^2cwA`wcwA;w\varepsilon_{cwA}^w]
    \morphism(1200,300)|b|<-600,-700>[wcw^2A`w^2cwA;wdist_{wA}]
  \efig
  \end{mathpar}
<<<<<<< HEAD
=======
  They both commute by the distribute law and the comonad laws of $c$
  and $w$.
>>>>>>> origin/master
\end{proof}

% Lemma for composing contraction and weakening
\begin{lemma}[Composition of Weakening and Contraction]
  \label{lem:compose-cw}
  Suppose \\ $(\cat{L},I,\otimes,w,\w{}^w,c,\cL{},\cR{})$ is a Lambek
  category with weakening and contraction, where
  $(w,\varepsilon^w,\delta^w)$ and $(c,\varepsilon^c,\delta^c)$ are
  the respective monoidal comonads. Then the composition of $c$ and
  $w$ using the distributive law $dist_A:cwA\mto wcA$ is a monoidal
  comonad on $\cat{L}$.
\end{lemma}
\begin{proof}
  For the complete proof see
  Appendix~\ref{subsec:proof_of_composition_of_weakening_and_contraction_lem:compose-cw}.
\end{proof}

% Definition: Lambek category with cw
\begin{definition}
  \label{def:Lambek-cw}
  A \textbf{Lambek category with $cw$},
  $(\cat{L},cw,\w{}^w,\cL{},\cR{}, dist)$, is a Lambek category with
  weakening and contraction, and a distributive law.  Furthermore, the
  following coherence diagrams commute:
  \begin{mathpar}
    \bfig
      \square|amma|/->`->`<-`->/<1200,400>[
        I\otimes cwA`
        I\otimes (I\otimes cwA)`
        cwA\otimes(I\otimes cwA)`
        wA\otimes(I\otimes cwA);
        \lambda_{I\otimes cwA}^{-1}`
        \cR{wA,I}`
        \w{A}^w\otimes id_{I\otimes cwA}`
        \varepsilon_{wA}^c\otimes id_{I\otimes cwA}]
    \efig
    \and
    \bfig
      \square|amma|/->`->`<-`->/<1200,400>[
        cwA\otimes I`
        (cwA\otimes I)\otimes I`
        (cwA\otimes I)\otimes cwA`
        (cwA\otimes I)\otimes wA;
        \rho_{cwA\otimes I}^{-1}`
        \cL{wA,I}`
        id_{cwA\otimes I}\otimes\w{A}^w`
        id_{cwA\otimes I}\otimes\varepsilon_{wA}^c]
    \efig
    \and
    \bfig
    \square|amma|/->`->`->`/<1000,400>[
      cwA`
      cwB`
      wA`
      wB;
      f`
      \varepsilon_{wA}^c`
      \varepsilon_{wB}^c`]
    \morphism<500,0>[wA`I;\w{A}^w]
    \morphism(1000,0)<-500,0>[wB`I;\w{B}^w]
    \efig
  \end{mathpar}  
\iffalse
  \begin{mathpar}
  \bfig
    \Vtriangle/->`->`->/<600,400>[
      cwA`
      cwB`
      I;
      f`
      \w{A}`
      \w{B}]
  \efig
  \end{mathpar}
\fi
  where $f:(cwA,\delta_A)\mto(cwB,\delta_B)$ is any coalgebra morphism between
  free coalgebras.
\end{definition}



% Conditions for weakening and contraction
\begin{lemma}
  \label{lem:compose-cw-2}
  Let $(\cat{L},cw,\w{}^w,\cL{},\cR{})$ be a Lambek category with $cw$.
  Then the following conditions are satisfied:
  \begin{itemize}
    \item[1.] There exist two natural transformations $\w{A}:cwA\mto I$
      and $\c{A}:cwA\mto cwA\otimes cwA$.
    \item[2.] Each $(cwA,\w{A},\c{A})$ is a comonoid.
    \item[3.] $\w{A}$ and $\c{A}$ are coalgebra morphisms.
    \item[4.] Any coalgebra morphism $f:(cwA,\delta_A)\mto(cwB,\delta_B)$
      between free coalgebras preserves the comonoid structure given by
      $\w{}$ and $\c{}$.
  \end{itemize}
\end{lemma}

\begin{proof}
  We will only prove the first condition by defining $\w{}$ and $\c{}$. For the complete proof see
  Appendix~\ref{subsec:proof_of_conditions_of_lambek_with_cw_lem:compose-cw-2}.
    Each of $\w{}$ and $\c{}$can be given two equivalent definitions.
    $\w{A}:cwA\mto I$ is defined as in the diagram below. The left
    triangle commutes by the definition of $dist$ and the right triangle
    commutes by the definition of $\w{}^w$.
    \begin{mathpar}
    \bfig
    \Atrianglepair/<-`->`->`->`->/<600,400>[
      wcA`
      cwA`
      wA`
      I;
      dist_A`
      w\varepsilon_A^c`
      \w{cA}^w`
      \varepsilon_{wA}^c`
      \w{A}^w]
    \efig
    \end{mathpar}

    $\c{A}:cwA\mto cwA\otimes cwA$ is defined as below. The left part of
    the diagram commutes by the definitions of $\cL{}$ and of $\cR{}$, and
    the right part commutes because $\cat{L}$ is monoidal.
    \begin{mathpar}
      \bfig
      \square/->`->``->/<1050,400>[
        cwA`
        cwA\otimes I`
        I\otimes cwA`
        cwA\otimes(I\otimes cwA);
        \rho_{cwA}^{-1}`
        \lambda_{cwA}^{-1}``
        \cR{wA,I}]
      \ptriangle(1050,0)/->``/<1050,400>[
        cwA\otimes I`
        (cwA\otimes I)\otimes cwA`
        cwA\otimes(I\otimes cwA);
        \cL{wA,I}``]
      \dtriangle(1050,0)|mrb|/->`->`->/<1050,400>[
        (cwA\otimes I)\otimes cwA`
        cwA\otimes(I\otimes cwA)`
        cwA\otimes cwA;
        \alpha_{cwA,I,cwA}`
        \rho_{cwA}\otimes id_{cwA}`
        id_{cwA}\otimes\lambda_{cwA}]
      \efig
    \end{mathpar}
\end{proof}


% Definition: distributive law for exchange
\begin{definition}
  \label{def:distEx}
  Given two comonads $(cw,\varepsilon^{cw},\delta^{cw})$ and
  $(e,\varepsilon^e,\delta^e)$ on a category $\cat{L}$ such that
  $(\cat{L},cw,\w{},\c{})$ is a Lambek category with $cw$ and
  $(\cat{L},e,\e{})$ is a Lambek category with exchange, we define a
  \textbf{distributive law for exchange} of $cw$ over $e$ to be a natural
  isomorphism with components $distEx_A:cweA\mto ecwA$, subject to the
  following coherence diagrams:
  \begin{mathpar}
    \bfig
      \Vtriangle/<-`<-`->/<500,400>[
        eA`
        cweA`
        ecwA;
        \varepsilon_{eA}^{cw}`
        e\varepsilon_A^{cw}`
        distEx_A]
    \efig
    \and
    \bfig
      \Vtriangle/<-`<-`->/<500,400>[
        cwA`
        cweA`
        ecwA;
        cw\varepsilon_A^e`
        \varepsilon_{cwA}^e`
        distEx_A]
    \efig
  \end{mathpar}
\end{definition}

\begin{lemma}
  \label{lem:distEx}
  Given two comonads $(cw,\varepsilon^{cw},\delta^{cw})$ and
  $(e,\varepsilon^e,\delta^e)$ on a category $\cat{L}$ such that
  $(\cat{L},cw,\w{},\c{})$ is a Lambek category with $cw$ and
  $(\cat{L},e,\e{})$ is a Lambek category with exchange, the following
  two digrams also commute:
  \begin{mathpar}
  \bfig
    \Vtriangle/->`->`<-/<500,400>[
      cwecwA`
      cwe(cw)^2A`
      (cw)^2ecwA;
      cwe\delta_A^{cw}`
      \delta_{cweA}^{cw}`
      cwdistEx_{cwA}]
  \efig
  \and
  \bfig
    \Vtriangle/->`->`->/<500,400>[
      ecweA`
      ecwe^2A`
      e^2cweA;
      ecw\delta_A^e`
      \delta_{cweA}^e`
      edistEx_{eA}]
  \efig
  \end{mathpar}
\end{lemma}

  The proof is similar with the proof of Lemma~\ref{lem:dist} and we will
  not elaborate it here. Also, notice the difference between $dist$ of $c$
  over $w$ and $distEx$ of $cw$ over $e$. While $dist$ is a natural
  transformation, $distEx$ is a natural isomorphism.


% Lemma: cwe is a monoidal comonad
\begin{lemma}
  \label{lem:compose-cwe}
  let $(cw,\varepsilon^{cw},\delta^{cw})$ and $(e,\varepsilon^e,\delta^e)$
  be two monoidal comonads on a Lambek category with $cw$ and exchange
  $(\cat{L},I,\otimes,cw,\w{},\c{},e,\e{})$. Then the composition of $cw$
  and $e$ using the distributive law for exchange $distEx_A:cweA\mto ecwA$
  is a monoidal comonad $(cwe,\varepsilon,\delta)$ on $\cat{L}$.
\end{lemma}

\begin{proof}
  Suppose $(cw,\varepsilon^{cw},\delta^{cw})$ and
  $(e,\varepsilon^e,\delta^e)$ are monoidal comonads, and \\
  $(\cat{L},I,\otimes,cw,\w{},\c{},e,\e{})$ is a
  Lambek category with $cw$ and exchange. Since by definition
  $cw,e:\cat{L}\mto\cat{L}$ are monoidal functors, we know that their
  composition \\
  $cwe:\cat{L}\mto\cat{L}$ is a monoidal functor:
  \begin{align*}
    \q{A,B} &: cweA\otimes cweB\mto cwe(A\otimes B)   \\
    \q{A,B} &= cw\q{A,B}^e\circ\q{eA,eB}^{cw}         \\
    \q{I}   &: I\mto cweI                             \\
    \q{I}   &= cw\q{I}^e\circ\q{I}^{cw}
  \end{align*}
  Analogous to the proof of Lemma~\ref{lem:compose-cw}, each of
  $\varepsilon$ and $\delta$ can be given two equivalent definitions:
  \begin{mathpar}
  \bfig
    \square<800,400>[
      cweA`
      eA`
      cwA`
      A;
      \varepsilon_{eA}^{cw}`
      cw\varepsilon_A^e`
      \varepsilon_A^e`
      \varepsilon_A^{cw}]
  \efig
  \and
  \bfig
    \square|almb|/->`->`->`->/<800,500>[
      cweA`
      cwe^2A`
      (cw)^2eA`
      (cw)^2e^2A;
      cw\delta_A^e`
      \delta_{eA}^{cw}`
      \delta_{e^2A}^{cw}`
      (cw)^2\delta_A^e]
    \square(800,0)|amrb|/->``->`->/<800,500>[
      cwe^2A`
      (cw)^2e^2A`
      (cw)^2e^2A`
      cwecweA;
      \delta_{e^2A}^{cw}``
      cwdist_{eA}`
      cwdist_{eA}]
  \efig
  \end{mathpar}
  And the comonad laws can be proved similarly, which we will not elaborate
  for simplicity.
\end{proof}



% Lemma: co-Kleisli of cwe is symmetric monoidal
\begin{lemma}
  \label{lem:cokleisli-cwe}
  Let $(cwe,\varepsilon,\delta)$ be a monoidal comonad over a monoidal
  category $(\cat{L},I,\otimes)$ such that
  $(\cat{L},I,\otimes,cw,\w{},\c{},e,\e{})$ is a Lambek category with $cw$
  and exchange. Then the co-Kleisli category of $\cat{L}$, $\cat{L}_{cwe}$,
  is a linear category.
  \todo{changed to liner category. Finish the proof when lemma 5 is proved.}
\end{lemma}
\begin{proof}
  The identity object of $\cat{L}_{cwe}$ is still $I$.

  The left and right unitors, $\hat\lambda_A:I\otimes A\mto A$ and
  $\hat\rho_A:A\otimes I\mto A$, in $\cat{L}_{cwe}$ are morphisms
  $cwe(I\otimes A)\mto A$ and $cwe(A\otimes I)\mto A$ in $\cat{L}$,
  respectively. Then we define $\hat\lambda$ and $\hat\rho$ as:
  \begin{align*}
    \hat\lambda_A &= \varepsilon_A\circ cwe\lambda_A     \\
    \hat\rho_A    &= \varepsilon_A\circ cwe\rho_A,
  \end{align*}
  where $\lambda$ and $\rho$ are the left and right unitors in $\cat{L}$,
  respectively. And we define their inverses as:
  \begin{align*}
    \hat\lambda_A^{-1} &= \varepsilon_{I\otimes A}\circ cwe\lambda_A^{-1} \\
    \hat\rho_A^{-1}    &= \varepsilon_{A\otimes I}\circ cwe\rho_A^{-1}
  \end{align*}
  $\hat\lambda$ is a nautral isomorphism with inverse $\hat\lambda^{-1}$
  because the following diagram chasing commutes:
  \begin{mathpar}
  \bfig
    \Vtrianglepair|aammm|/->`->`->``<-/<800,400>[
      cwe(I\otimes A)`
      (cwe)^2(I\otimes A)`
      (cwe)^2A`
      cweA;
      \delta_{I\otimes A}`
      (cwe)^2\lambda_A`
      cwe\lambda_A``
      \delta_A]
    \btriangle(0,-400)/->`=`<-/<800,800>[
      cwe(I\otimes A)`
      I\otimes A`
      cwe(I\otimes A);
      \varepsilon_{I\otimes A}``
      \varepsilon_{I\otimes A}]
    \btriangle(800,-400)|mmb|/->`=`<-/<800,400>[
      cweA`
      cwe(I\otimes A)`
      cweA;
      cwe\lambda_A^{-1}``
      cwe\lambda_A^{-1}]
    \morphism(1600,400)|r|<0,-800>[(cwe)^2A`cweA;cwe\varepsilon_A]
    \ptriangle(800,100)/``/<100,100>[(1)``;``]
    \ptriangle(300,-250)/``/<100,100>[(2)``;``]
    \ptriangle(600,-100)/``/<100,100>[(3)``;``]
    \ptriangle(1000,-350)/``/<100,100>[(4)``;``]
    \ptriangle(1300,-100)/``/<100,100>[(5)``;``]
  \efig
  \end{mathpar}
  (1) commutes by the naturality of $\delta$. (2), (3) and (4) commute
  trivially. And (5) commutes because $cwe$ is a comonad.

  Similarly, $\hat\rho$ is a natural isomorphism with inverse
  $\hat\rho^{-1}$ by the following diagram chasing:
  \begin{mathpar}
  \bfig
    \Vtrianglepair|aammm|/->`->`->``<-/<800,400>[
      cwe(A\otimes I)`
      (cwe)^2(A\otimes I)`
      (cwe)^2A`
      cweA;
      \delta_{A\otimes I}`
      (cwe)^2\rho_A`
      cwe\rho_A``
      \delta_A]
    \btriangle(0,-400)/->`=`<-/<800,800>[
      cwe(A\otimes I)`
      A\otimes I`
      cwe(A\otimes I);
      \varepsilon_{A\otimes I}``
      \varepsilon_{A\otimes I}]
    \btriangle(800,-400)|mmb|/->`=`<-/<800,400>[
      cweA`
      cwe(A\otimes I)`
      cweA;
      cwe\rho_A^{-1}``
      cwe\rho_A^{-1}]
    \morphism(1600,400)|r|<0,-800>[(cwe)^2A`cweA;cwe\varepsilon_A]
  \efig
  \end{mathpar}

  The associator
  $\hat\alpha_A:(A\otimes B)\otimes C)\mto A\otimes(B\otimes C)$ in
  $\cat{L}_{cwe}$ is the morphism
  $cwe((A\otimes B)\otimes C)\mto A\otimes(B\otimes C)$ in $\cat{L}$.
  We define $\hat\alpha$ as:
  $$\hat\alpha_{A,B,C}=\varepsilon_{A\otimes(B\otimes C)}\circ cwe\alpha_{A,B,C},$$
  where $\alpha$ is the associator of $\cat{L}$. And its inverse is
  $$\hat\alpha_{A,B,C}^{-1} =
    \varepsilon_{(A\otimes B)\otimes C}\circ cwe\alpha_{A,B,C}^{-1}$$
  $\hat\alpha$ is a natural isomorphism with inverse $\hat\alpha^{-1}$
  because the following diagram chasing commutes:
  \begin{mathpar}
  \bfig
    \Vtrianglepair|aammm|/->`->`->``<-/<1200,400>[
      cwe((A\otimes B)\otimes C)`
      (cwe)^2((A\otimes B)\otimes C)`
      (cwe)^2(A\otimes (B\otimes C))`
      cwe(A\otimes(B\otimes C));
      \delta_{(A\otimes B)\otimes C}`
      (cwe)^2\alpha_{A,B,C}`
      cwe\alpha_{A,B,C}``
      \delta_{A\otimes (B\otimes C)}]
    \btriangle(0,-400)/->`=`<-/<1200,800>[
      cwe((A\otimes B)\otimes C)`
      (A\otimes B)\otimes C`
      cwe((A\otimes B)\otimes C);
      \varepsilon_{(A\otimes B)\otimes C}``
      \varepsilon_{(A\otimes B)\otimes C}]
    \btriangle(1200,-400)|mmb|/->`=`<-/<1200,400>[
      cwe(A\otimes(B\otimes C))`
      cwe((A\otimes B)\otimes C)`
      cwe(A\otimes(B\otimes C));
      cwe\alpha_{A,B,C}^{-1}``
      cwe\alpha_{A,B,C}^{-1}]
    \morphism(2400,400)|r|<0,-800>[
      (cwe)^2(A\otimes (B\otimes C))`
      cwe(A\otimes(B\otimes C));
      cwe\varepsilon_{A\otimes(B\otimes C)}]
  \efig
  \end{mathpar}

  Therefore, $\cat{L}_{cwe}$ is a monoidal category.

  The symmetry, $\hat\beta_{A,B}:A\otimes B\mto B\otimes A$, in
  $\cat{L}_{cwe}$ is the morphism $cwe(A\otimes B)\mto B\otimes A$ in
  $\cat{L}$, which is defined as:
  $$\hat\beta_{A,B}=\varepsilon_{B\otimes A}^{cw}\circ cw\gamma_{A,B},$$
  where $\varepsilon_A^{cw}:cwA\mto A$ is a natural transformation
  associated with the comonad $cw$, and $\gamma$ is the natural
  isomorphism defined in Lemma~\ref{lem:cokleisli-exchange}. Then its
  inverse is
  $$\hat\beta_{A,B}^{-1}=\varepsilon_{A\otimes B}^{cw}\circ cw\gamma_{B,A}$$
  $\hat\beta$ is a natural isomorphism with inverse $\hat\beta^{-1}$
  because the following diagram chasing commutes:
  \begin{mathpar}
  \bfig
    \square|almm|/<-`<-`->`<-/<850,400>[
      A\otimes B`
      cw(A\otimes B)`
      cw(A\otimes B)`
      (cw)^2(A\otimes B);
      \varepsilon_{A\otimes B}^{cw}`
      \varepsilon_{A\otimes B}^{cw}`
      \delta_{A\otimes B}^{cw}`
      cw\varepsilon_{A\otimes B}^{cw}]
    \morphism/=/<850,400>[cw(A\otimes B)`cw(A\otimes B);]
    \square(850,0)|amrm|/<-``->`<-/<1850,400>[
      cw(A\otimes B)`
      cwe(A\otimes B)`
      (cw)^2(A\otimes B)`
      (cw)^2e(A\otimes B);
      cw\varepsilon_{A\otimes B}^e``
      \delta_{e(A\otimes B}^{cw}`
      (cw)^2\varepsilon_{A\otimes B}^e]
    \btriangle(850,-400)|mmm|/<-``<-/<1050,400>[
      (cw)^2(A\otimes B)`
      (cw)^2e(B\otimes A)`
      (cw)^2e^2(A\otimes B);
      (cw)^2\gamma_{B,A}``
      (cw)^2e\gamma_{A,B}]
    \morphism(2700,0)<0,-400>[
      (cw)^2e(A\otimes B)`
      (cw)^2e^2(A\otimes B);
      (cw)^2\delta_{A\otimes B}^e]
    \qtriangle(1900,-800)|mmr|/=`<-`->/<800,400>[
      (cw)^2e^2(A\otimes B)`
      (cw)^2e^2(A\otimes B)`
      (cwe)^2(A\otimes B);
      `
      cwdistEx_{e(A\otimes B)}^{-1}`
      cwdistEx_{e(A\otimes B)}]
    \morphism(850,-400)|m|/=/<0,-400>[
      (cw)^2e(B\otimes A)`
      (cw)^2e(B\otimes A);]
    \morphism(2700,-1200)|m|<-1850,800>[
      cwecw(B\otimes A)`
      (cw)^2e(B\otimes A);
      cwdistEx_{B\otimes A}^{-1}]
    \morphism(850,-800)|m|<1850,-400>[
      (cw)^2e(B\otimes A)`
      cwecw(B\otimes A);
      cwdistEx_{B\otimes A}]
    \morphism(2700,-800)|r|<0,-400>[
      (cwe)^2(A\otimes B)`
      cwecw(B\otimes A);
      cwecw\gamma_{A,B}]
    \btriangle(0,-1200)/<-``<-/<2700,1200>[
      cw(A\otimes B)`
      cwe(B\otimes A)`
      cwecw(B\otimes A);
      cw\gamma_{B,A}``
      cwe\varepsilon_{B\otimes A}^{cw}]
    \morphism(850,-400)|m|<-850,-800>[
      (cw)^2e(B\otimes A)`
      cwe(B\otimes A);
      cw\varepsilon_{e(B\otimes A)}^{cw}]
    \ptriangle(200,250)/``/<100,0>[(1)``;``]
    \ptriangle(550,100)/``/<100,0>[(2)``;``]
    \ptriangle(1775,200)/``/<100,0>[(3)``;``]
    \ptriangle(350,-400)/``/<100,0>[(4)``;``]
    \ptriangle(1775,-200)/``/<100,0>[(5)``;``]
    \ptriangle(850,-1000)/``/<100,0>[(6)``;``]
    \ptriangle(1200,-700)/``/<100,0>[(7)``;``]
    \ptriangle(1775,-600)/``/<100,0>[(8)``;``]
    \ptriangle(2550,-550)/``/<100,0>[(9)``;``]
  \efig
  \end{mathpar}
  (1), (7) and (9) commute trivially. (2) is the comonad law for $cw$. (3)
  commutes by the naturality of $\delta^{cw}$. (4) commutes by the
  naturality of $\varepsilon^{cw}$. (5) commutes because $\gamma$ is a
  natural isomorphism (Lemma~\ref{lem:cokleisli-exchange}). (6) is the
  definition of $distEx$. (8) is the naturality of $distEx$. 
  
  In conclusion, $\cat{L}_{cwe}$ is a symmetric monoidal category.
\end{proof}


% subsection linear_categories (end)

% section categorical_models (end)

\section{Related Work}
\label{sec:related_work}
TODO
% section related_work (end)

\section{Conclusion}
\label{sec:conclusion}
TODO
% section conclusion (end)

\bibliographystyle{plainurl} \bibliography{ref}

\appendix
\section{Appendix}
\label{sec:appendix}
\input{appendix}
% section appendix (end)

\end{document}

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: t
%%% End: 

